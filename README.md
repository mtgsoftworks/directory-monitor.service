# Directory Monitor Service

This project monitors a specified directory for events like file additions, deletions, or modifications and logs these changes in JSON format to a log file. The service is configured to run as a `systemd` service on Linux. Follow the steps below for setup and execution.

---

## Features
- Monitors a directory (e.g., `/home/ubuntu/bsm/test`) for changes.
- Tracks events like file creation, deletion, and modification.
- Logs the changes in JSON format to `/home/ubuntu/bsm/logs/changes.json`.
- Configured as a `systemd` service for Linux systems.
- Automatically starts after a system reboot.

---

## Setup Steps

### 1. Create a Virtual Machine (Optional)
For an isolated environment, you can set up a virtual machine using tools like VirtualBox, VMware, or KVM.

### 2. Install Python
Ensure that Python 3.8 or later is installed on your Linux system. Use `pip` to install the required Python packages.

#### Python Installation:
```bash
sudo apt update
sudo apt install python3 python3-pip python3-venv
```

### 3. Install Required Python Libraries
The project requires the `watchdog` library. Install it with the following command:

```bash
pip install watchdog
```

### 4. Create a Log Directory
Create a directory to store log files at `/home/ubuntu/bsm/logs`.

```bash
mkdir -p /home/ubuntu/bsm/logs
```

### 5. Write the Python Script
Create a Python script to monitor changes in the specified directory. Use the following steps:

- Name the file `directory_monitor.py`.  
- Write the logic to monitor directory changes using the `watchdog` library.

### 6. Create a Systemd Service
To run the script as a system service, create a `systemd` service file in the `/etc/systemd/system/` directory.

**directory-monitor.service**:
```ini
[Unit]
Description=Directory Monitor Service
After=network.target

[Service]
Type=simple
User=mtg
Group=mtg
WorkingDirectory=/home/mtg/bsm
ExecStart=/usr/bin/python3 /home/mtg/bsm/directory_monitor.py
Restart=always
RestartSec=3
StandardOutput=append:/home/mtg/bsm/logs/service.log
StandardError=append:/home/mtg/bsm/logs/service.log

[Install]
WantedBy=multi-user.target
```

To activate the service, execute the following commands:

```bash
sudo systemctl daemon-reload
sudo systemctl enable directory-monitor.service
sudo systemctl start directory-monitor.service
```

### 7. Check the Service Status
Verify that the service is running:

```bash
sudo systemctl status directory-monitor.service
```

### 8. View Log Files
Monitor the logs generated by the service in `/home/mtg/bsm/logs/service.log`.

### 9. Stop or Restart the Service
To stop or restart the service, use:

```bash
sudo systemctl stop directory-monitor.service
sudo systemctl restart directory-monitor.service
```

---

## Troubleshooting
If the service does not work as expected, use `journalctl` to review system logs:

```bash
sudo journalctl -u directory-monitor.service
```

---

## Demonstration
For a complete walkthrough of the project setup and functionality, watch the YouTube video:

[![Directory Monitor Service Video](https://img.youtube.com/vi/BnxfftgAS84/0.jpg)](https://www.youtube.com/watch?v=BnxfftgAS84)

These steps will guide you through the setup and execution of the project.
